<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
 "/opt/local/share/xml/docbook/4.5/docbookx.dtd">

<book>
	<title>TubePress</title>
	<bookinfo>
		<author>
			<personname>
				<firstname>Eric</firstname>
				<surname>Hough</surname>
			</personname>
		</author>
		<releaseinfo revision="1.8.0"></releaseinfo>
	</bookinfo>
	<preface>
		<title>Introduction</title>
		<para>
			<application>TubePress</application>
			is a PHP library that displays beautiful YouTube video galleries in
			your web site. It's highly configurable and easy to use. Check out a
			demo gallery
			<ulink url="http://tubepress.org/demo">here</ulink>.
		</para>
		<para>
			There are two different
			<application>TubePress</application>
			packages available, both of which
			are
			open-sourced under the
			<ulink url="http://www.gnu.org/copyleft/gpl.html">GPLv3</ulink>.
			<orderedlist>
				<listitem>
					<para>
						A
						<application>WordPress</application>
						plugin (free!)
					</para>
				</listitem>
				<listitem>
					<para>
						<application>TubePress Pro</application>. A stand-alone library for use
						anywhere that
						supports PHP (only
						$10)
					</para>
				</listitem>
			</orderedlist>
		</para>
	</preface>
	<chapter id="download">
		<title>Download</title>

		<section id="latest-stable-release">
			<title>Latest stable release</title>
			<para>
				The latest packages of
				<application>TubePress</application>
				can always be
				downloaded as zip files from
				<ulink url="http://tubepress.org/download">http://tubepress.org/download
				</ulink>
			</para>
		</section>
		<section id="subversion">
			<title>Subversion</title>
			<para>
				Interested in testing the bleeding-edge version of
				<application>TubePress</application>?
				You can use
				<ulink
					url="http://en.wikipedia.org/wiki/Comparison_of_Subversion_clients">any Subversion client</ulink>
				to check out the latest
				developmental build of the
				<application>WordPress</application>
				plugin.
			</para>
			<section id="subversion-command-line">
				<title>Command line</title>
				<para>If you have command line access to your server,
					and have a subversion client in your path, this method is the easiest.</para>
				<orderedlist>
					<listitem>
						<para>
							Change directories to
							<filename class="directory">wp-content/plugins</filename>
						</para>
					</listitem>
					<listitem>
						<para>
							Make sure you've removed any existing installs of
							<application>TubePress</application>
							from this directory
						</para>
					</listitem>
					<listitem>
						<para>
							Execute
							<command>svn checkout
								http://tubepress.googlecode.com/svn/trunk/ tubepress</command>
						</para>
						</listitem>
				</orderedlist>
				<para>That's it! You'll now be using the very latest build of
					the plugin. You can now upgrade at any time with the following
					commands:</para>
				<orderedlist>
					<listitem>
						<para>
							Change directories to
							<filename class="directory">wp-content/plugins/tubepress</filename>
						</para>
					</listitem>
					<listitem>
						<para>
							Execute
							<command>svn update</command>
						</para>
						</listitem>
				</orderedlist>
			</section>

		
		<section id="subversion-ftp">
			<title>FTP</title>
			<para>You'll need to check out the latest build locally (i.e. to your desktop machine) and then upload it to your server using FTP.</para>
			<orderedlist>
					<listitem>
						<para>Use any SVN client to browse to <ulink url="http://tubepress.googlecode.com/svn/trunk/">http://tubepress.googlecode.com/svn/trunk/</ulink></para></listitem>
					<listitem><para>Checkout the <filename class="directory">trunk</filename> directory to a local directory called <filename class="directory">tubepress</filename></para></listitem>
					<listitem><para>Upload the <filename class="directory">tubepress</filename> directory you just created to your <application>WordPress</application> installation at <filename class="directory">wp-content/plugins</filename></para></listitem></orderedlist>
		</section>
		</section>
		<section id="nightly-builds">
			<title>Nightly Builds</title>
			<para>You can download a nightly build of the <application>WordPress</application> plugin package from <ulink url="http://tubepress.org/builds/tubepress_nightly.zip">http://tubepress.org/builds/tubepress_nightly.zip</ulink></para>
		</section>
	</chapter>
	<chapter id="wordpress-plugin">
		<title>WordPress Plugin</title>
		<para>As a <application>WordPress</application> plugin, <application>TubePress</application> lets you easily insert custom video galleries throughout your <application>WordPress</application>-powered blog.</para>

	<section id="wordpress-plugin-quick-start">
		<title>Quick Start</title>
		<para>
			<application>TubePress</application>
			can be installed and activated just like any other
			<application>WordPress</application>
			plugin. See the
			<ulink url="http://codex.wordpress.org/Managing_Plugins">WordPress docs on plugin management</ulink>
			for more information.
			Here are the basic steps...
		</para>

		<orderedlist>
			<listitem>
				<para>
					Download the plugin from
					<ulink url="http://tubepress.org/download">http://tubepress.org/download
					</ulink>
				</para>
			</listitem>
			<listitem>
				<para>
					Unzip into your plugins directory at (
					<filename class="directory">wp-content/plugins
					</filename>
					)
				</para>
			</listitem>
			<listitem>
				<para>Activate TubePress from <code>Site Admin > Plugins</code></para>
			</listitem>
			<listitem>
				<para>Configure from <code>Site Admin > Settings > TubePress</code>
				</para>
			</listitem>
			<listitem>
				<para>Type <code>[tubepress]</code>

					in a post or a page where you'd like to insert your gallery (this is
					actually the simplest form of a TubePress shortcode). See the image
					below for an example.</para>
			</listitem>

		</orderedlist>

	</section>
	<section id="multiple-galleries">
		<title>Multiple Galleries</title>
		<para>
			The options in <code>Settings > TubePress</code> are the global options for TubePress.
			The real power of the plugin lies in the ability to put multiple galleries on multiple pages. 
			This is done with TubePress shortcodes. 
		</para>
		<para>
			 For example, say on one page I want to display a gallery of videos that are tagged with "<code>football</code>". On this page, I would type

<code>[tubepress mode='tag', tagValue='football']</code>

on the page where I want the gallery to show up. And say on another page I want to display a gallery with the default (global) options 
that were set in <code>Settings > TubePress</code>. On this page I would type

<code>[tubepress]</code>

where I wanted the gallery to show up. You can follow this procedure for unlimited galleries on unlimited posts/pages. 
Just use any TubePress shortcode to control the gallery content. Get creative! 
		</para>
	</section>
	<section id="upgrading">
		<title>Upgrading</title>
		<para> Upgrading is usually just a matter of copying the latest version of TubePress over your existing installation. However, if you want to be sure there are no problems, follow these directions in order.
</para>
   <orderedlist>
   	<listitem><para>Remove your existing TubePress install directory (<code>wp-content/plugins/tubepress</code>)</para></listitem>
   <listitem><para>Unzip the latest version of TubePress into (wp-content/plugins)</para></listitem>
   <listitem><para>Visit <code>Site Admin > Settings > TubePress</code> once initialize your options</para></listitem>
   </orderedlist>
		
	</section>
	<section id="sidebar-widget">
		<title>Sidebar Widget</title>
		<para>The TubePress plugin comes with widget functionality, which allows you to 
		place a customizable list of videos in your blog's sidebar. Here's an example of the widget's output:</para>
		<para>
		 There are no separate installation instructions; if you've installed and enabled the TubePress plugin then you're done. 
		 Please see the WordPress widget documentation for general info on how to enable and disable widgets.</para>
		<para>This is what the TubePress widget control looks like:</para>
		<para> In the "Title" section of the widget control, enter the text you'd like for the sidebar's header. To customize which videos 
		show up in your sidebar, just use a TubePress shortcode. Please note that by default, the TubePress widget will use the following shortcode:

		<code>[tubepress resultsPerPage='3', views='false', description='true', descriptionLimit='50', playerLocation='popup', thumbHeight='105', thumbWidth='135']</code></para>

<para>Of course, like any TubePress shortcode, you can override any setting you like.</para>
	</section>
	<section id="init-options">
		<title>Initialize Options</title>
		<para>If you'd like to reset your TubePress options to their default values, 
		you can do so by using a special page nested inside the plugin.</para>
		<para>If your blog URL is <code>http://myblog.com</code> you'd need to navigate to
		<code>http://myblog.com/wp-content/plugins/tubepress/env/WordPress/functions/db_nuke.php</code>
with your web browser. Once there, you can just click the <code>Reset TubePress Options</code> button. Of course, you'll 
need to be a WordPress administrator (access level 9) for your blog to do this.</para>
	</section>
	</chapter>
	<chapter id="tubepress-pro">
		<title>TubePress Pro</title>
		<para>
		TubePress Pro allows you to run TubePress anywhere that supports PHP5. 
		This means that you can easily insert video galleries in your PHP-enabled site! 
		A very basic understanding of PHP programming is helpful.</para>
		
		<section id="plain-php">
			<title>Plain PHP</title>
			<para>Here are step-by-step instructions for using TubePress Pro on your site.</para>
			<orderedlist>
				

   <listitem><para><emphasis>Download</emphasis>
      After you purchase TubePress Pro, check your email that you've registered with PayPal. You'll find an email, 
      from tubepress.org, that contains your download link. When you click on this link, your web browser will 
      prompt you to download (or open) a zip file containing TubePress Pro. Click "Save file" and download the 
      zip file to somewhere easy to find, like your desktop. As of this writing, the name of the zip file is tubepress_pro_1_7_0.zip.
      </para></listitem>
   <listitem><para><emphasis>Unzip</emphasis>
      Unzip the file you just downloaded (tubepress_pro_1_7_0.zip). It will expand into a directory named tubepress_pro_1_7_0.
</para></listitem>
   <listitem><para><emphasis>Upload</emphasis>
      This entire directory that you unzipped must be uploaded to your web server in a place that's web accessible. 
      In this example, my webserver has a URL of http://myblog.com and a document root of /var/www/html, so I'll need to 
      upload the entire tubepress_pro_1_7_0 directory to anywhere inside /var/www/html on myblog.com. For this example,
       I'll just upload the directory to the /var/www/html directory.</para>
       <para>
      Now my TubePress installation is web accessible at http://myblog.com/tubepress_pro_1_7_0 and on the server's 
      filesystem at /var/www/html/tubepress_pro_1_7_0.</para></listitem>

   <listitem><para><emphasis>Verify upload</emphasis>
      It's a good idea to make sure that the directory you just uploaded is actually readable by your web server. 
      Try navigating to http://myblog.com/tubepress_pro_1_7_0/env/standalone/tubepress-standalone.php. 
      You should get a blank white screen with no errors.</para></listitem>

   <listitem><para><emphasis>Create gallery page</emphasis>
      I want to create a gallery in /var/www/html/index.php. Below are the contents of index.php. It's an extremely 
      simple PHP file with four steps added to include a TubePress gallery. We'll go the steps one-by-one. 
		</para>
		
		<programlistingco>
		<areaspec>
          <area coords="5" id="tubepress-pro-set-base-url" />
          <area coords="7" id="tubepress-pro-include-library" />
          <area coords="15" id="tubepress-pro-print-head" />
          <area coords="20" id="tubepress-pro-print-gallery" />
        </areaspec>
		<programlisting>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
&lt;?php 

$tubepress_base_url = "http://myblog.com/tubepress_pro_1_7_0";

require_once "tubepress_pro_1_7_0/env/standalone/tubepress-standalone.php";
?>

&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	&lt;head>
		&lt;title>TubePress Standalone Example&lt;/title>
		&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

		&lt;?php print tubepressHeadElements(); ?>
    &lt;/head>
    &lt;body>
		&lt;div style="width:500px">

			&lt;?php print tubepressGallery("resultsPerPage='3'"); ?>

		&lt;/div>
	&lt;/body>
&lt;/html>
		</programlisting>
		<calloutlist>
          <callout arearefs="tubepress-pro-set-base-url">
            <para>Set the <code>tubepress_base_url</code> variable to the web URL of your <application>TubePress Pro</application> installation. In this example, it's <code>http://myblog.com/tubepress_pro_1_7_0</code>.</para>
          </callout>
		<callout arearefs="tubepress-pro-include-library">
			<para>Include the TubePress stand-alone library file (tubepress-standalone.php)</para>
		</callout>
        <callout arearefs="tubepress-pro-print-head">
        	<para>Include this statement inside the HEAD of your HTML document</para>
        </callout>
        <callout arearefs="tubepress-pro-print-gallery">
        	<para>Call "tubepressGallery" anywhere you like</para>
        </callout>
        </calloutlist>
		
			</programlistingco></listitem>
		<listitem>
		<para>Result
Here's the resulting output of the example: http://tubepress.org/pro_demo</para>
		</listitem>
		</orderedlist>
		</section>
	<section id="outside-wordpress-loop">
		<para>You can also use TubePress Pro to insert video galleries
			outside the
			WordPress loop (outside the content of a post or page). It's even easier to
			use than in standalone PHP. There are just two steps, which are in
			bold in the
			code snippet below. This example shows how you can use TubePress Pro in a
			regular
			WordPress template. The steps are</para>

		<programlistingco>
			<areaspec>
				<area coords="4" id="tubepress-pro-wordpress-include" />
				<area coords="10" id="tubepress-pro-wordpress-print" />
			</areaspec>
			<programlisting>
&lt;?php

	require_once "tubepress/env/standalone/tubepress-standalone.php";

	get_header();

	print tubepressGallery("resultsPerPage='3'");
	
	if (have_posts()) :
	   while (have_posts()) :
	      the_post();
	      the_content();
	   endwhile;
	endif;
	get_sidebar();
	get_footer(); 
?&gt;
		</programlisting>
		<calloutlist>
	        <callout arearefs="tubepress-pro-wordpress-include">
	            <para>Include the tubepress-standalone.php file to load up the TubePress Pro libraries</para>
	        </callout>
	        <callout arearefs="tubepress-pro-wordpress-print">
	        	<para>Anywhere you'd like a video gallery, type

print tubepressGallery("resultsPerPage='3'");</para>
	        </callout>
			
        </calloutlist>
		
	</programlistingco>
			
		</section>
	</chapter>
	<chapter id="shortcodes">
		<title>TubePress Shortcodes</title>
		<para>TubePress shortcodes are small snippets of text that allow you to easily control the content, 
		style, and behavior of TubePress galleries. There are very similar to WordPress shortcodes, 
		with some minor syntax differences.</para>

		<para>TubePress will replace any TubePress shortcodes with a video gallery. Each gallery can be 
		configured completely independently from the others, based on the content of the shortcode.</para>

		<para>The simplest shortcode is <code>[tubepress]</code>. TubePress will replace this shortcode with 
		a video gallery with the default settings. You can override each TubePress setting by providing 
		shortcode attributes, which are comma-separated name-value pairs that you insert between the 
		square brackets. They all follow the pattern<code>name='value'</code>. Please note the single 
		quotes around the value!</para>
		
		<para>
		 So for instance, say I wanted a gallery with</para>

    	<itemizedlist><listitem><para>my favorite videos</para></listitem>
    		<listitem><para>10 videos per page</para></listitem>
    <listitem><para>the description included under each thumbnail</para></listitem>
    <listitem><para>that plays videos using lightWindow</para></listitem>
    </itemizedlist>
<para>
My shortcode for this gallery would be:

[tubepress mode='favorites', favoritesValue='3hough', resultsPerPage='10', description='true', playerLocat
		</para>
		<section id="gallery-options">
			<title>Display Options</title>
			<para>These settings control which group of videos the gallery will display.</para>
			<table frame="all">
				<title>Display Options</title>
				<tgroup cols='4' align='left' colsep='1' rowsep='1'>
					<thead>
						<row>
							<entry>Setting</entry>
							<entry>Description</entry>
							<entry>Valid Values</entry>
							<entry>Example</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>mode</entry>
							<entry>Which set of videos will be displayed</entry>
							<entry>favorites
recently_featured
mobile
most_discussed
most_linked
most_recent
most_responded
playlist
most_viewed
top_rated
tag
user</entry>
<entry>[tubepress mode='featured']</entry>
</row>
					</tbody>
				</tgroup>
			</table>
		</section>
		<section id="gallery-content">
			<title>Gallery Content</title>
			<table frame="all">
	<title>Display Options</title>
	<tgroup cols='2' align='left' colsep='1' rowsep='1'>
		<thead>
			<row>
				<entry>Mode Name</entry>
				<entry>Description</entry>
			</row>
		</thead>
		<tbody>
			<row>
				<entry>favorites</entry>
				<entry>"Favorite" videos of the given YouTube user.
					Accompany this mode setting with a favoritesValue attribute to
					define the YouTube user name. For instance

					[tubepress
					mode='favorites', favoritesValue='3hough']

					. YouTube limits the
					number of videos in this type of gallery to 50.
				</entry>
			</row>
			<row>
				<entry>
					recently_featured</entry>
				<entry> The lastest "featured" videos on YouTube's homepage</entry>
			</row>
			<row>
				<entry>most_discussed</entry>
				<entry> The most-commented videos on YouTube</entry>
			</row>
			<row>
				<entry>most_linked</entry>
				<entry> Videos with the most links</entry>
			</row>
			<row>
				<entry>most_recent</entry>
				<entry> Videos recently uploaded to YouTube</entry>
			</row>
			<row>
				<entry>most_responded</entry>
				<entry> Videos with the most video responses</entry>
			</row>
			<row>
				<entry>playlist</entry>
				<entry> Videos from the given playlist. Accompany this mode setting
					with
					a playlistValue attribute to define which YouTube playlist to
					retrieve. For instance

					[tubepress mode='playlist', playlistValue='6813408AE8D50E6F']

					. YouTube limits the number of videos in a playlist to 200. Only
					public playlists can be shown with TubePress.</entry>
			</row>
			<row>
				<entry>mobile</entry>
				<entry>Videos suitable for mobile devices</entry>
			</row>
			<row>
				<entry>tag</entry>
				<entry> Show videos matching a search term. Accompany this mode
					setting with a tagValue attribute to define your search term. For
					instance

					[tubepress mode='tag', tagValue='barack obama john mccain']

					user Videos uploaded by a specific user. Accompany this mode setting
					with a userValue attribute to define the YouTube user name. For
					instance

					[tubepress mode='user', userValue='3hough']</entry>
			</row>
		</tbody>
	</tgroup>
</table>
		</section>
	</chapter>
</book>
