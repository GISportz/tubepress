/*
	ColorBox v1.05 - a full featured, light-weight, customizable lightbox based on jQuery 1.3
	(c) 2009 Jack Moore - www.colorpowered.com - jack@colorpowered.com
	Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*/
(function(n){var i,u,s,r,l,p,h,q,f,t,m,a,c,o,g,k,e;n(function(){n("body").append(n([l=n('<div id="modalBackgroundOverlay" />')[0],r=n('<div id="colorbox" />')[0]]).hide());n(r).append(n([t=n('<div id="borderTopLeft" />')[0],m=n('<div id="borderTopCenter" />')[0],a=n('<div id="borderTopRight" />')[0],c=n('<div id="borderMiddleLeft" />')[0],o=n('<div id="borderMiddleRight" />')[0],g=n('<div id="borderBottomLeft" />')[0],k=n('<div id="borderBottomCenter" />')[0],e=n('<div id="borderBottomRight" />')[0],h=n('<div id="modalContent" />')[0]]));
n(h).append(n([q=n('<div id="modalLoadedContent"><a id="contentPrevious" href="#"></a><a id="contentNext" href="#"></a><span id="contentCurrent"></span><br id="modalInfoBr"/><span id="contentTitle"></span><div id="preloadPrevious"></div><div id="preloadNext"></div><div id="preloadClose"></div></div>')[0],modalLoadingOverlay=n('<div id="modalLoadingOverlay" />')[0],f=n('<a id="modalClose" href="#"></a>')[0]]));
n(f).click(function(){j();return false})});function b(){n([l]).css({position:"absolute",width:n(window).width(),height:n(window).height(),top:n(window).scrollTop(),left:n(window).scrollLeft()})}function d(v){if(v.keyCode==27){j();return false}else{if(v.keyCode==37){n("a#contentPrevious").click();return false
}else{if(v.keyCode==39){n("a#contentNext").click();return false}}}}function j(){n(r).removeData("open");n([l,r]).fadeOut("fast",function(){n(q).empty();n([l,r]).hide()});if(s){n(s).remove()}n(document).unbind("keydown",d);n(window).unbind("resize scroll",b)}n.fn.colorbox=function(A){A=n.extend({},n.fn.colorbox.settings,A);
function v(J,I,G,K){var C;(typeof(window.innerHeight)=="number")?C=window.innerHeight:C=document.documentElement.clientHeight;var F=I+n(t).height()+n(g).height();var D=J+n(t).width()+n(g).width();var H=C/2-F/2+n(window).scrollTop();var E=n(window).width()/2-D/2+n(window).scrollLeft();if(F>C){H-=(F-C)
}if(H<0){H=0}if(E<0){E=0}n(r).animate({height:F,top:H,left:E,width:D},G);n(c).animate({top:n(t).height(),left:0,height:I},G);n(o).animate({top:n(a).height(),left:D-n(o).width(),height:I},G);n(t).animate({top:0,left:0},G);n(m).animate({top:0,left:n(t).width(),width:J},G);n(a).animate({top:0,left:D-n(a).width()},G);
n(g).animate({top:F-n(g).height(),left:0},G);n(k).animate({top:F-n(g).height(),left:n(g).width(),width:J},G);n(e).animate({top:F-n(g).height(),left:D-n(e).width()},G);n(h).animate({height:I,width:J,top:n(t).height(),left:n(t).width()},G,function(){if(K){K()}if(n.browser.msie&&n.browser.version<7){b()
}})}var z=[];function w(){}function y(E,C){n(q).hide().html(E).append(C);if(A.contentWidth){n(q).css({width:A.contentWidth})}if(A.contentHeight){n(q).css({height:A.contentHeight})}if(A.transition=="elastic"){v(n(q).outerWidth(true),n(q).outerHeight(true),A.transitionSpeed,function(){n(q).show();n(modalLoadingOverlay).hide()
})}else{n(r).animate({opacity:0},A.transitionSpeed,function(){v(n(q).outerWidth(true),n(q).outerHeight(true),0,function(){n(q).show();n(modalLoadingOverlay).hide();n(r).animate({opacity:1},A.transitionSpeed)})})}var D=w()}function x(){n(modalLoadingOverlay).show();if(n(this).attr("id")=="contentPrevious"){i>0?i--:i=u.length-1
}else{i<u.length-1?i++:i=0}console.info(u);B(u[i]);return false}function B(D){var C="<br id='modalInfoBr'/><span id='contentTitle'></span>";if(A.contentInline){y(n(A.contentInline).html(),C)}}n(this).bind("click.colorbox",function(){if(n(r).data("open")!=true){n(r).data("open",true);n(q).empty().css({height:"auto",width:"auto"});
n(f).html(A.modalClose);n(l).css({opacity:A.bgOpacity});n([l,r,modalLoadingOverlay]).show();n(h).css({width:A.initialWidth,height:A.initialHeight});v(n(h).width(),n(h).height(),0);if(this.rel){u=n("a[rel='"+this.rel+"']");i=n(u).index(this)}else{u=n(this);i=0}console.info(u);B(u[i]);n(document).bind("keydown",d);
if(n.browser.msie&&n.browser.version<7){n(window).bind("resize scroll",b)}}return false});if(A.open==true&&n(r).data("open")!=true){n(this).triggerHandler("click.colorbox")}return this.each(function(){})};n.fn.colorbox.settings={transition:"elastic",transitionSpeed:350,initialWidth:300,initialHeight:100,contentWidth:false,contentHeight:false,contentAjax:false,contentInline:false,contentIframe:false,bgOpacity:0.85,preloading:true,contentCurrent:"{current} of {total}",contentPrevious:"previous",contentNext:"next",modalClose:"close",open:false}
})(jQuery);